<!DOCTYPE html>
<html>
    <head>
        <title>Food</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <style type="text/css">

          body{
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
          }

          .card{
                height: 400px;
                overflow-y: scroll;
          }

          img{
            width: 70%;
            height: 300px;
          }

          ul{
            list-style-type: none;
          }

          li{
            padding-bottom: 20px;
            margin-bottom: 10px;
          
          }



          .nodata{
            color: red;
            margin-top: 100px;
          }

        </style>
    </head>
    <body>

        <div class="container col-md-4 mx-auto">

            <div class="card">
                <div class="card-header">
                    <form action="" method="" id="form">
                        <input type="text" name="search" id="search" class="form-control form-control-sm input" placeholder="Search Food ..." />
                    </form>
                </div>
                <div class="card-body text-center">
                    <div>

                        <ul class="imagecontainer">
                            <li>
                                <h3><span class="title">Ice Cream</span></h3>
                                <img src="https://cdn.loveandlemons.com/wp-content/uploads/2023/06/homemade-ice-cream.jpg" alt="icecream">
                            </li>
                            <li>
                                <h3><span class="title">Juice</span></h3>
                                <img src="https://assets.clevelandclinic.org/transform/47cdb246-3c9d-4efb-8b3b-1e6b85567a16/Fruit-Juice-155376375-770x533-1_jpg" alt="icecream">
                            </li>
                            <li>
                                <h3><span class="title">Mochi</span></h3>
                                <img src="https://cdn.shopify.com/s/files/1/0567/2298/1022/t/13/assets/dalle-2023-12-28-12.44.35---create-a-hyper-realistic-image-of-whole-strawberry-mochi-ice-cream-pieces.-each-mochi-should-have-a-smooth-matte-soft-pink-exterior-capturing-the-au-1703796291205.png?v=1703796296" alt="icecream">
                            </li>
                        </ul>
                        
                    </div>
                </div>
            </div>

        </div>
        
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

        <script type="text/javascript">

            const gettitle = document.querySelector(".title");
            const getimage = document.querySelector(".imagecontainer");

            const getinput = document.querySelector(".input");

            const getform = document.getElementById("form");
           
            getform.addEventListener("submit",function(e){
                e.preventDefault();

                const getval = getinput.value;

                let url = `https://www.themealdb.com/api/json/v1/1/search.php?s=${getval}`;

                // fetch(url).then((response)=>{
                //     return response.json();
                // }).then((data)=>{
                //     // console.log(data.meals);

                //     const getdata = data.meals;
                //     console.log(getdata);

                //     if(getdata === null){

                //         getimage.innerHTML = "";

                //         let html = `
                //                 <li class='nodata'>
                //                     <h2>There is no data</h2>
                //                     <h2>Try Again</h2>
                //                 </li>
                //         `;

                //         getimage.innerHTML = html;

                //     }else{

                //         let html = getdata.map(element=>`
                //             <li>
                //                 <h3><span class="title">${element.strMeal}</span></h3>
                //                 <img src="${element.strMealThumb}" alt="icecream">
                //                 </li>
                //         `).join("");


                //         getimage.innerHTML = html;


                //     } }).catch((error)=>{
                //    console.log(error);
                // })
                    
               
               

                const getdata = async()=>{

                    const getfetch = await fetch(url);

                    const response = await getfetch.json();

                    const data = response.meals;

                    console.log(data);

                    if(data === null){

                        getimage.innerHTML = "";

                        let html = `
                                <li class='nodata'>
                                    <h2>There is no data</h2>
                                    <h2>Try Again</h2>
                                </li>
                        `;

                        getimage.innerHTML = html;

                    }else{

                        let html = data.map(element=>`
                            <li>
                                <h3><span class="title">${element.strMeal}</span></h3>
                                <img src="${element.strMealThumb}" alt="icecream">
                            </li>
                        `);

                        
                       getimage.innerHTML = html;
                    }
                }

                getdata()

            })
            
        </script>


    </body>
</html>